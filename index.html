<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Fusion Kitchen üåéüç≥</title>
    <link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;600&family=Kodchasan:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #e0f7fa; /* Pastel Cyan */
            --card: #ffffff;
            --primary: #4dd0e1; /* Cyan */
            --secondary: #ffcc80; /* Pastel Orange */
            --accent: #ffab91; /* Pastel Red */
            --text: #546e7a;
            --radius: 20px;
        }

        body {
            font-family: 'Mali', cursive;
            background-color: var(--bg);
            background-image: 
                radial-gradient(#b2ebf2 15%, transparent 16%),
                radial-gradient(#ffcc80 15%, transparent 16%);
            background-size: 40px 40px;
            background-position: 0 0, 20px 20px;
            color: var(--text);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            width: 100%;
            text-align: center;
        }

        h1 {
            background: #fff;
            color: var(--primary);
            font-size: 2.2rem;
            padding: 15px 30px;
            border-radius: 50px;
            display: inline-block;
            box-shadow: 0 8px 0 #b2ebf2;
            border: 4px solid var(--primary);
            margin-bottom: 30px;
            text-shadow: 2px 2px 0 #e0f7fa;
        }

        /* Grid Layout */
        .grid-wrapper {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        /* Card Style */
        .slot-card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 15px;
            border: 3px solid #fff;
            box-shadow: 0 6px 0 #eceff1, 0 10px 15px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            gap: 10px;
            transition: transform 0.2s;
            position: relative;
        }

        .slot-card:hover { transform: translateY(-5px); }

        .slot-card.locked {
            border: 3px solid var(--secondary);
            background-color: #fff8e1;
        }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .label {
            font-weight: 600;
            color: var(--accent);
            font-size: 1.1rem;
        }

        .lock-btn {
            background: none;
            border: none;
            font-size: 1.4rem;
            cursor: pointer;
            opacity: 0.3;
            transition: 0.2s;
        }
        .lock-btn:hover { opacity: 1; transform: scale(1.1); }
        .slot-card.locked .lock-btn { opacity: 1; transform: scale(1.1); }

        /* Dropdown */
        select {
            width: 100%;
            padding: 10px;
            border: 2px solid #eceff1;
            border-radius: 15px;
            font-family: 'Kodchasan', sans-serif;
            font-size: 0.95rem;
            color: var(--text);
            background-color: #fafafa;
            outline: none;
            cursor: pointer;
        }
        select:focus { border-color: var(--primary); }

        /* Display Box */
        .display-value {
            background-color: #f1f8e9;
            border-radius: 15px;
            padding: 12px;
            font-weight: bold;
            color: var(--text);
            min-height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            word-break: break-word;
        }
        .slot-card.locked .display-value {
            background-color: #fff3e0;
            color: #ef6c00;
        }

        /* Result Area */
        .result-box {
            background: #fff;
            border-radius: 30px;
            padding: 30px;
            border: 4px dashed var(--primary);
            box-shadow: 0 10px 20px rgba(77, 208, 225, 0.2);
            margin-bottom: 20px;
        }

        #finalSentence {
            font-size: 1.3rem;
            line-height: 1.8;
            color: var(--text);
        }

        .highlight { color: var(--accent); font-weight: bold; }

        /* Buttons */
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .main-btn {
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-family: 'Mali', cursive;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 6px 0 rgba(0,0,0,0.1);
        }

        .spin-btn {
            background-color: var(--primary);
            color: white;
        }
        .spin-btn:hover { background-color: #26c6da; transform: translateY(-3px); box-shadow: 0 8px 0 rgba(0,0,0,0.1); }
        .spin-btn:active { transform: translateY(4px); box-shadow: none; }

        .copy-btn {
            background-color: var(--secondary);
            color: #e65100;
        }
        .copy-btn:hover { background-color: #ffb74d; transform: translateY(-3px); box-shadow: 0 8px 0 rgba(0,0,0,0.1); }
        .copy-btn:active { transform: translateY(4px); box-shadow: none; }

    </style>
</head>
<body>

    <div class="container">
        <h1>üåé Global Fusion Kitchen üç≥</h1>

        <div class="grid-wrapper" id="gridContainer">
            </div>

        <div class="result-box">
            <div id="finalSentence">‚ú® ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå! ‚ú®</div>
        </div>

        <div class="btn-group">
            <button class="main-btn spin-btn" onclick="spinAll()">üåè ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å (Spin)</button>
            <button class="main-btn copy-btn" onclick="copyResult()">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏à‡∏ó‡∏¢‡πå</button>
        </div>
    </div>

    <script>
        // --- DATA SETS ---
        const data = {
            country1: [
                "Italy", "France", "Japan", "China", "Mexico", "India", "Spain", "Greece", "Turkey", "United States", "South Korea", "Vietnam", "Malaysia", "Singapore", "Indonesia", "Philippines", "Taiwan", "Hong Kong", "United Kingdom", "Ireland", "Germany", "Austria", "Switzerland", "Belgium", "Netherlands", "Portugal", "Sweden", "Norway", "Denmark", "Finland", "Iceland", "Poland", "Czech Republic", "Hungary", "Romania", "Bulgaria", "Croatia", "Serbia", "Slovenia", "Slovakia", "Bosnia and Herzegovina", "Montenegro", "North Macedonia", "Albania", "Russia", "Ukraine", "Georgia", "Armenia", "Azerbaijan", "Lebanon", "Israel", "Jordan", "Syria", "Iran", "Iraq", "Saudi Arabia", "United Arab Emirates", "Qatar", "Kuwait", "Bahrain", "Oman", "Yemen", "Egypt", "Morocco", "Algeria", "Tunisia", "Libya", "Ethiopia", "Eritrea", "Somalia", "Kenya", "Tanzania", "Uganda", "Rwanda", "South Africa", "Nigeria", "Ghana", "Senegal", "C√¥te d‚ÄôIvoire", "Cameroon", "Democratic Republic of the Congo", "Angola", "Mozambique", "Zimbabwe", "Zambia", "Madagascar", "Australia", "New Zealand", "Canada", "Brazil", "Argentina", "Peru", "Chile", "Colombia", "Ecuador", "Venezuela", "Bolivia", "Uruguay", "Cuba", "Jamaica"
            ],
            
            country2: [
                "Italy", "France", "Japan", "China", "Mexico", "India", "Spain", "Greece", "Turkey", "United States", "South Korea", "Vietnam", "Malaysia", "Singapore", "Indonesia", "Philippines", "Taiwan", "Hong Kong", "United Kingdom", "Ireland", "Germany", "Austria", "Switzerland", "Belgium", "Netherlands", "Portugal", "Sweden", "Norway", "Denmark", "Finland", "Iceland", "Poland", "Czech Republic", "Hungary", "Romania", "Bulgaria", "Croatia", "Serbia", "Slovenia", "Slovakia", "Bosnia and Herzegovina", "Montenegro", "North Macedonia", "Albania", "Russia", "Ukraine", "Georgia", "Armenia", "Azerbaijan", "Lebanon", "Israel", "Jordan", "Syria", "Iran", "Iraq", "Saudi Arabia", "United Arab Emirates", "Qatar", "Kuwait", "Bahrain", "Oman", "Yemen", "Egypt", "Morocco", "Algeria", "Tunisia", "Libya", "Ethiopia", "Eritrea", "Somalia", "Kenya", "Tanzania", "Uganda", "Rwanda", "South Africa", "Nigeria", "Ghana", "Senegal", "C√¥te d‚ÄôIvoire", "Cameroon", "Democratic Republic of the Congo", "Angola", "Mozambique", "Zimbabwe", "Zambia", "Madagascar", "Australia", "New Zealand", "Canada", "Brazil", "Argentina", "Peru", "Chile", "Colombia", "Ecuador", "Venezuela", "Bolivia", "Uruguay", "Cuba", "Jamaica"
            ],

            meat: [
                "üêî ‡∏≠‡∏Å‡πÑ‡∏Å‡πà", "üçó ‡∏ô‡πà‡∏≠‡∏á‡πÑ‡∏Å‡πà", "üêì ‡∏õ‡∏µ‡∏Å‡πÑ‡∏Å‡πà", "ü¶∂ ‡∏ï‡∏µ‡∏ô‡πÑ‡∏Å‡πà", "üß£ ‡∏Ñ‡∏≠‡πÑ‡∏Å‡πà", "ü•© ‡∏™‡∏±‡∏ô‡πÉ‡∏ô‡πÑ‡∏Å‡πà", "üç¢ ‡∏ï‡∏±‡∏ö‡πÑ‡∏Å‡πà", "‚ù§Ô∏è ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÑ‡∏Å‡πà", "ü•ò ‡∏Å‡∏£‡∏∞‡πÄ‡∏û‡∏≤‡∏∞‡πÑ‡∏Å‡πà", "ü•ì ‡∏´‡∏ô‡∏±‡∏á‡πÑ‡∏Å‡πà",
                "üê∑ ‡∏™‡∏±‡∏ô‡πÉ‡∏ô‡∏´‡∏°‡∏π", "üêñ ‡∏™‡∏±‡∏ô‡∏ô‡∏≠‡∏Å‡∏´‡∏°‡∏π", "ü•ì ‡∏´‡∏°‡∏π‡∏Å‡∏£‡∏≠‡∏ö", "ü•© ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏∞‡πÇ‡∏û‡∏Å‡∏´‡∏°‡∏π", "ü•£ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π‡∏ö‡∏î", "üçñ ‡∏´‡∏°‡∏π‡∏ö‡∏≤‡∏£‡πå‡∏ö‡∏µ‡∏Ñ‡∏¥‡∏ß", "ü•£ ‡∏´‡∏°‡∏π‡∏´‡∏°‡∏±‡∏Å", "üç¢ ‡∏ï‡∏±‡∏ö‡∏´‡∏°‡∏π", "‚ù§Ô∏è ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏´‡∏°‡∏π", "ü•© ‡∏Å‡∏£‡∏∞‡πÄ‡∏û‡∏≤‡∏∞‡∏´‡∏°‡∏π", "ü•ì ‡∏´‡∏ô‡∏±‡∏á‡∏´‡∏°‡∏π", "ü¶¥ ‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏´‡∏°‡∏π",
                "ü¶ê ‡∏Å‡∏∏‡πâ‡∏á‡∏Ç‡∏≤‡∏ß", "ü¶ê ‡∏Å‡∏∏‡πâ‡∏á‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥", "üç§ ‡∏Å‡∏∏‡πâ‡∏á‡∏•‡∏≤‡∏¢‡πÄ‡∏™‡∏∑‡∏≠", "üåä ‡∏Å‡∏∏‡πâ‡∏á‡∏ó‡∏∞‡πÄ‡∏•", "üá¶üá∫ ‡∏Å‡∏∏‡πâ‡∏á‡∏≠‡∏≠‡∏™‡πÄ‡∏ï‡∏£‡πÄ‡∏•‡∏µ‡∏¢", "ü¶û ‡∏Å‡∏∏‡πâ‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£", "üî¥ ‡∏Å‡∏∏‡πâ‡∏á‡πÅ‡∏î‡∏á", "üíé ‡∏Å‡∏∏‡πâ‡∏á‡πÅ‡∏Å‡πâ‡∏ß", "ü¶ê ‡∏Å‡∏∏‡πâ‡∏á‡∏Å‡πâ‡∏≤‡∏°‡∏Å‡∏£‡∏≤‡∏°",
                "ü¶Ü ‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏î", "üçó ‡∏ô‡πà‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏î", "ü•© ‡∏™‡∏∞‡πÇ‡∏û‡∏Å‡πÄ‡∏õ‡πá‡∏î", "üç¢ ‡∏ï‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏î", "ü•ì ‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏î", "üçë ‡∏´‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏î",
                "üêö ‡∏´‡∏≠‡∏¢‡πÄ‡∏õ‡πã‡∏≤‡∏Æ‡∏∑‡πâ‡∏≠", "ü¶™ ‡∏´‡∏≠‡∏¢‡∏ô‡∏≤‡∏á‡∏£‡∏°", "üêö ‡∏´‡∏≠‡∏¢‡πÅ‡∏°‡∏•‡∏á‡∏†‡∏π‡πà", "ü•ò ‡∏´‡∏≠‡∏¢‡∏Å‡∏≤‡∏ö", "üêö ‡∏´‡∏≠‡∏¢‡∏•‡∏≤‡∏¢", "ü©∏ ‡∏´‡∏≠‡∏¢‡πÅ‡∏Ñ‡∏£‡∏á", "ü•ò ‡∏´‡∏≠‡∏¢‡∏õ‡∏µ‡∏Å‡∏ô‡∏Å", "üáØüáµ ‡∏´‡∏≠‡∏¢‡πÅ‡∏°‡∏•‡∏á‡∏†‡∏π‡πà‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô",
                "ü¶Ä ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏õ‡∏π", "ü¶Ä ‡∏Ç‡∏≤‡∏õ‡∏π", "ü•ö ‡πÑ‡∏Ç‡πà‡∏õ‡∏π",
                "ü¶ë ‡∏õ‡∏•‡∏≤‡∏´‡∏°‡∏∂‡∏Å‡∏Å‡∏•‡πâ‡∏ß‡∏¢", "üêô ‡∏õ‡∏•‡∏≤‡∏´‡∏°‡∏∂‡∏Å", "‚ö´ ‡∏´‡∏°‡∏∂‡∏Å‡∏î‡∏≥", "ü¶ë ‡∏õ‡∏•‡∏≤‡∏´‡∏°‡∏∂‡∏Å‡∏´‡∏≠‡∏°",
                "üêü ‡∏õ‡∏•‡∏≤‡∏ó‡∏π", "üáØüáµ ‡∏õ‡∏•‡∏≤‡∏ã‡∏≤‡∏ö‡∏∞", "üêü ‡∏õ‡∏•‡∏≤‡∏Å‡∏∞‡∏û‡∏á‡∏Ç‡∏≤‡∏ß", "üêü ‡∏õ‡∏•‡∏≤‡∏ô‡∏¥‡∏•", "üêü ‡∏õ‡∏•‡∏≤‡∏™‡∏ß‡∏≤‡∏¢", "üêü ‡∏õ‡∏•‡∏≤‡∏Å‡∏£‡∏≤‡∏¢", "üç£ ‡∏õ‡∏•‡∏≤‡πÅ‡∏ã‡∏•‡∏°‡∏≠‡∏ô", "üêü ‡∏õ‡∏•‡∏≤‡∏ó‡∏π‡∏ô‡πà‡∏≤", "üêü ‡∏õ‡∏•‡∏≤‡∏Æ‡∏≤‡∏°‡∏≤‡∏à‡∏¥", "üêü ‡∏õ‡∏•‡∏≤‡∏™‡∏≥‡∏•‡∏µ", "üêü ‡∏õ‡∏•‡∏≤‡∏Æ‡∏≤‡∏•‡∏¥‡∏ö‡∏±‡∏ï", "üêü ‡∏õ‡∏•‡∏≤‡∏ó‡∏±‡∏ö‡∏ó‡∏¥‡∏°",
                "ü•ò ‡∏´‡∏±‡∏ß‡∏õ‡∏•‡∏≤", "ü•ì ‡∏´‡∏ô‡∏±‡∏á‡∏õ‡∏•‡∏≤", "ü•ö ‡πÑ‡∏Ç‡πà‡∏õ‡∏•‡∏≤", "ü•ì ‡∏û‡∏∏‡∏á‡∏õ‡∏•‡∏≤", "üêü ‡∏´‡∏≤‡∏á‡∏õ‡∏•‡∏≤"
            ],

            style: [
                "üçú ‡∏™‡∏ï‡∏£‡∏µ‡∏ó‡∏ü‡∏π‡πâ‡∏î", "ü•ò ‡∏ü‡∏¥‡∏ß‡∏ä‡∏±‡πà‡∏ô", "üåä ‡∏ã‡∏µ‡∏ü‡∏π‡πâ‡∏î", "üçõ ‡πÅ‡∏Å‡∏á", "üç≤ ‡∏ï‡πâ‡∏°", "ü•ó ‡∏¢‡∏≥", "üç¢ ‡∏õ‡∏¥‡πâ‡∏á‡∏¢‡πà‡∏≤‡∏á", "üçõ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß", "üç¢ ‡∏ö‡∏≤‡∏£‡πå‡∏ö‡∏µ‡∏Ñ‡∏¥‡∏ß", "üçµ ‡∏ã‡∏∏‡∏õ", "üç≥ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤", "üçΩÔ∏è ‡πÑ‡∏ü‡∏ô‡πå‡πÑ‡∏î‡∏ô‡∏¥‡πà‡∏á", "üçü ‡∏ü‡∏≤‡∏™‡∏ï‡πå‡∏ü‡∏π‡πâ‡∏î", "ü•ó ‡∏™‡∏•‡∏±‡∏î", "ü•© ‡∏™‡πÄ‡∏ï‡πá‡∏Å", "üçñ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á", "üçÇ ‡πÄ‡∏°‡∏ô‡∏π‡∏ï‡∏≤‡∏°‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•", "ü•¶ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û", "üç∞ ‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô", "ü•ó ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏°‡∏±‡∏á‡∏™‡∏ß‡∏¥‡∏£‡∏±‡∏ï‡∏¥", "üç£ ‡∏ã‡∏π‡∏ä‡∏¥", "üç± ‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡πà‡∏ï‡πå", "üç∏ ‡∏Ñ‡πá‡∏≠‡∏Å‡πÄ‡∏ó‡∏•"
            ],

            flavor: [
                "üå∂Ô∏è ‡πÄ‡∏ú‡πá‡∏î", "üçØ ‡∏´‡∏ß‡∏≤‡∏ô", "üßÇ ‡πÄ‡∏Ñ‡πá‡∏°", "üçã ‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß", "ü•¨ ‡∏Ç‡∏°", "ü§§ ‡∏≠‡∏π‡∏°‡∏≤‡∏°‡∏¥", "üç¨ ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•", "üßÇ ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠", "üî• ‡πÄ‡∏ú‡πá‡∏î‡∏£‡πâ‡∏≠‡∏ô", "üç≤ ‡∏Å‡∏•‡∏°‡∏Å‡∏•‡πà‡∏≠‡∏°"
            ],

            plating: [
                "üé® Minimalist Plating", "üñºÔ∏è Artistic Plating", "üè∫ Traditional Plating", "ü•û Stacking", "üìê Asymmetrical Plating", "üå± Microgreens", "üå∏ Edible Flowers", "üåø Herb Sprigs", "ü•î Crisps & Chips", "üé® Sauce Splatters", "„Ä∞Ô∏è Sauce Swirls", "‚ö´ Sauce Dots", "üóº Towering (‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢)", "üß© Deconstructed (‡πÅ‡∏¢‡∏Å‡∏™‡πà‡∏ß‡∏ô)", "üóø Food Sculpture", "‚¨ÜÔ∏è Vertical Plating", "üéÆ Interactive Plating", "üåà Plating by Color", "üè° Rustic Plating", "üå°Ô∏è Sous Vide Presentation"
            ]
        };

        // UI Configuration
        const config = [
            { id: "country1", label: "üó∫Ô∏è ‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô (Base)", data: data.country1 },
            { id: "country2", label: "üåé ‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏ó‡∏µ‡πà 2 (Fusion With)", data: data.country2 },
            { id: "meat", label: "ü•© ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏•‡∏±‡∏Å (Meat)", data: data.meat },
            { id: "style", label: "üç≥ ‡∏™‡πÑ‡∏ï‡∏•‡πå (Style)", data: data.style },
            { id: "flavor", label: "üëÖ ‡∏£‡∏™‡∏´‡∏•‡∏±‡∏Å (Main Flavor)", data: data.flavor },
            { id: "plating", label: "üé® ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏à‡∏≤‡∏ô (Plating)", data: data.plating }
        ];

        // State
        let state = {};

        // Initialize
        function init() {
            const container = document.getElementById('gridContainer');
            config.forEach(cfg => {
                state[cfg.id] = { locked: false, value: "..." };

                const card = document.createElement('div');
                card.className = "slot-card";
                card.id = `card-${cfg.id}`;
                card.innerHTML = `
                    <div class="header-row">
                        <span class="label">${cfg.label}</span>
                        <button class="lock-btn" id="lock-${cfg.id}" onclick="toggleLock('${cfg.id}')">üîì</button>
                    </div>
                    <select id="select-${cfg.id}" onchange="handleSelect('${cfg.id}')">
                        <option value="random">üé≤ ‡∏™‡∏∏‡πà‡∏° (Random)</option>
                        ${cfg.data.map(item => `<option value="${item}">${item}</option>`).join('')}
                    </select>
                    <div class="display-value" id="disp-${cfg.id}">...</div>
                `;
                container.appendChild(card);
            });
        }

        // Toggle Lock
        function toggleLock(id) {
            state[id].locked = !state[id].locked;
            const btn = document.getElementById(`lock-${id}`);
            const card = document.getElementById(`card-${id}`);
            
            if (state[id].locked) {
                btn.innerText = "üîí";
                card.classList.add('locked');
            } else {
                btn.innerText = "üîì";
                card.classList.remove('locked');
            }
        }

        // Handle Manual Selection
        function handleSelect(id) {
            const select = document.getElementById(`select-${id}`);
            const display = document.getElementById(`disp-${id}`);
            const val = select.value;

            if (val !== "random") {
                state[id].value = val;
                display.innerText = val;
                if (!state[id].locked) toggleLock(id); // Auto lock when manually selected
            } else {
                if (state[id].locked) toggleLock(id); // Auto unlock if set to random
                display.innerText = "...";
            }
        }

        // Spin Logic
        function spinAll() {
            const btn = document.querySelector('.spin-btn');
            btn.disabled = true;
            btn.innerHTML = "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∏‡∏á...";

            config.forEach((cfg, index) => {
                const select = document.getElementById(`select-${cfg.id}`);
                
                if (state[cfg.id].locked) return;
                if (select.value !== "random") return;

                const display = document.getElementById(`disp-${cfg.id}`);
                const pool = cfg.data;
                let speed = 50;
                let counter = 0;

                const interval = setInterval(() => {
                    display.innerText = pool[Math.floor(Math.random() * pool.length)];
                    counter++;
                    if (counter > 10 + index * 2) {
                        clearInterval(interval);
                        const finalVal = pool[Math.floor(Math.random() * pool.length)];
                        display.innerText = finalVal;
                        state[cfg.id].value = finalVal;

                        if (index === config.length - 1) {
                            btn.disabled = false;
                            btn.innerHTML = "üåè ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å (Spin)";
                            generateSentence();
                        }
                    }
                }, speed);
            });

            // If all locked
            const allLocked = config.every(cfg => state[cfg.id].locked);
            if (allLocked) {
                setTimeout(() => {
                    btn.disabled = false;
                    btn.innerHTML = "üåè ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å (Spin)";
                    generateSentence();
                }, 300);
            }
        }

        function generateSentence() {
            const v = {};
            config.forEach(cfg => v[cfg.id] = state[cfg.id].value === "..." ? "(‡∏™‡∏∏‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô)" : state[cfg.id].value);

            const sentence = `
üç≤ **‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ü‡∏¥‡∏ß‡∏ä‡∏±‡πà‡∏ô‡πÇ‡∏•‡∏Å**: ‡∏ô‡∏≥‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏Å <span class="highlight">"${v.country1}"</span> ‡∏°‡∏≤‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡∏Å‡∏±‡∏ö <span class="highlight">"${v.country2}"</span><br>
ü•© ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠ <span class="highlight">"${v.meat}"</span><br>
üç≥ ‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö <span class="highlight">"${v.style}"</span> ‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏ô‡πâ‡∏ô <span class="highlight">"${v.flavor}"</span><br>
üé® ‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏à‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö <span class="highlight">"${v.plating}"</span>`;

            document.getElementById('finalSentence').innerHTML = sentence;
            document.getElementById('finalSentence').dataset.raw = sentence.replace(/<br>/g, '\n').replace(/<[^>]*>/g, '');
        }

        function copyResult() {
            const raw = document.getElementById('finalSentence').dataset.raw;
            if (!raw) {
                alert("‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° '‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å' ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡πâ‡∏≤ ü•∫");
                return;
            }
            navigator.clipboard.writeText(raw).then(() => alert("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏∏‡∏¢‡∏Ñ‡∏£‡∏±‡∏ß‡πÇ‡∏•‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≤ üë®‚Äçüç≥üë©‚Äçüç≥"));
        }

        // Run
        init();

    </script>
</body>
</html>
