<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Fusion Kitchen (Cute Ver.) üåéüç≥</title>
    <link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;600;700&family=Kodchasan:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #fff0f5; /* Lavender Blush */
            --card-bg: #ffffff;
            --primary: #ffb7b2; /* Pastel Red/Pink */
            --secondary: #aec6cf; /* Pastel Blue */
            --accent: #ffdac1; /* Pastel Orange */
            --text: #6d6d6d;
            --border-radius: 25px;
            --shadow: 0 8px 20px rgba(174, 198, 207, 0.4);
        }

        body {
            font-family: 'Mali', cursive;
            background-color: var(--bg-color);
            background-image: radial-gradient(#ffb7b2 15%, transparent 16%), radial-gradient(#aec6cf 15%, transparent 16%);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
            color: var(--text);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            max-width: 950px;
            width: 100%;
            text-align: center;
        }

        /* Header Style */
        h1 {
            background: #fff;
            color: #ff8b94;
            font-size: 2.2rem;
            padding: 15px 40px;
            border-radius: 50px;
            display: inline-block;
            border: 5px solid #ffdac1;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            position: relative;
        }
        
        h1::after {
            content: "‚ú®";
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 2rem;
        }

        /* Grid Layout */
        .grid-wrapper {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        /* Card Style */
        .slot-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            border: 3px solid #fff;
            box-shadow: var(--shadow);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex;
            flex-direction: column;
            gap: 12px;
            position: relative;
        }

        .slot-card:hover {
            transform: translateY(-8px);
            border-color: var(--secondary);
        }

        /* Locked State */
        .slot-card.locked {
            border: 3px solid #ffb7b2;
            background-color: #fff9f9;
        }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .label {
            font-weight: 700;
            color: #84a9ac;
            font-size: 1.1rem;
            text-align: left;
        }

        /* Lock Button */
        .lock-btn {
            background: #f0f0f0;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            transition: 0.2s;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slot-card.locked .lock-btn {
            background: #ffb7b2;
            color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* Dropdown */
        select {
            width: 100%;
            padding: 10px;
            border: 2px solid #eee;
            border-radius: 15px;
            font-family: 'Kodchasan', sans-serif;
            color: var(--text);
            background-color: #fafafa;
            outline: none;
            cursor: pointer;
        }
        select:focus { border-color: var(--secondary); }

        /* Display Box */
        .display-value {
            background-color: #e3f2fd;
            border-radius: 15px;
            padding: 15px;
            font-weight: bold;
            color: #546e7a;
            min-height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            text-align: center;
            border: 2px dashed #bbdefb;
            word-break: break-word;
        }

        .slot-card.locked .display-value {
            background-color: #ffebee;
            border-color: #ffcdd2;
            color: #c62828;
        }

        /* Result Area */
        .result-box {
            background: #fff;
            border-radius: 30px;
            padding: 30px;
            border: 4px solid var(--accent);
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        #finalSentence {
            font-size: 1.3rem;
            line-height: 1.8;
            color: #5d5d5d;
            margin-bottom: 15px;
        }

        .highlight {
            background: linear-gradient(120deg, #ffd1dc 0%, #ffd1dc 100%);
            background-repeat: no-repeat;
            background-size: 100% 40%;
            background-position: 0 88%;
            font-weight: bold;
            color: #d84315;
            padding: 0 5px;
        }

        /* Copy Text Area (Hidden by default) */
        #copyArea {
            width: 100%;
            height: 100px;
            padding: 15px;
            border-radius: 15px;
            border: 2px dashed #aec6cf;
            font-family: 'Kodchasan', sans-serif;
            font-size: 0.95rem;
            color: #666;
            resize: none;
            background: #f9fcff;
            display: none;
            margin-top: 10px;
        }
        #copyArea:focus { outline: none; border-color: var(--primary); }

        /* Buttons */
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .main-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            font-family: 'Mali', cursive;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }
        .main-btn:active { transform: translateY(4px); box-shadow: none; }

        .spin-btn { background: linear-gradient(to right, #ff9a9e, #fad0c4); }
        .spin-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 0 rgba(0,0,0,0.15); }

        .reset-btn { background: #eeeeee; color: #888; }
        .reset-btn:hover { background: #e0e0e0; }
        
        .copy-btn { 
            background: linear-gradient(to right, #4facfe, #00f2fe); 
            display: none; /* ‡∏ã‡πà‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏∏‡πà‡∏° */
        }
        .copy-btn:hover { transform: translateY(-3px); }

        /* Toast Notification */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 16px;
            position: fixed;
            z-index: 1;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.5s, bottom 0.5s;
        }
        #toast.show { visibility: visible; opacity: 1; bottom: 50px; }

    </style>
</head>
<body>

    <div class="container">
        <h1>üåé Global Fusion Kitchen üç≥</h1>

        <div class="grid-wrapper" id="gridContainer">
            </div>

        <div class="result-box">
            <div id="finalSentence">‚ú® ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <b style="color:#ff8b94">"‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏ü‡∏¥‡∏ß‡∏ä‡∏±‡πà‡∏ô"</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå! ‚ú®</div>
            <textarea id="copyArea" placeholder="‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."></textarea>
        </div>

        <div class="btn-group">
            <button class="main-btn reset-btn" onclick="unlockAll()">üîì ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
            <button class="main-btn spin-btn" onclick="spinAll()">üé≤ ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏ü‡∏¥‡∏ß‡∏ä‡∏±‡πà‡∏ô (Spin)</button>
            <button class="main-btn copy-btn" id="btnCopy" onclick="copyText()">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏à‡∏ó‡∏¢‡πå</button>
        </div>
    </div>

    <div id="toast">‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏à‡πâ‡∏≤</div>

    <script>
        // --- DATA SETS (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°‡πÄ‡∏õ‡πä‡∏∞‡πÜ) ---
        const data = {
            country1: [
                "Italy", "Greece", "Peru", "Portugal", "Spain", "Japan", "T√ºrkiye", "China", "France", "Indonesia", "Mexico", "Serbia", "India", "Poland", "United States", "Vietnam", "Brazil", "Croatia", "South Korea", "Lebanon", "Georgia", "Hungary", "Colombia", "Thailand", "Philippines", "Argentina", "Germany", "Russia", "Malaysia", "Morocco", "Romania", "Chile", "Czechia", "South Africa", "Bulgaria", "Austria", "Palestine", "Egypt", "Ethiopia", "Canada", "Tunisia", "Iran", "Ukraine", "Lithuania", "Syria", "Algeria", "Netherlands", "Saudi Arabia", "Ecuador", "England", "Sweden", "Bosnia and Herzegovina", "North Macedonia", "Venezuela", "Denmark", "Trinidad and Tobago", "Nicaragua", "Puerto Rico", "Libya", "Bangladesh", "Australia", "Sri Lanka", "Finland", "Jordan", "Bolivia", "Norway", "Azerbaijan", "Belgium", "Cuba", "Switzerland", "Iraq", "Uruguay", "Pakistan", "Afghanistan", "Slovakia", "Eritrea", "Albania", "Scotland", "Belarus", "Ireland", "Haiti", "Dominican Republic", "Paraguay", "Slovenia", "Costa Rica", "The Bahamas", "Armenia", "Latvia", "Estonia", "Singapore", "Montenegro", "Guatemala", "Israel", "Malta", "Nigeria", "Laos", "Kenya", "Kazakhstan", "Qatar", "Cyprus"
            ],
            
            country2: [
                "Italy", "Greece", "Peru", "Portugal", "Spain", "Japan", "T√ºrkiye", "China", "France", "Indonesia", "Mexico", "Serbia", "India", "Poland", "United States", "Vietnam", "Brazil", "Croatia", "South Korea", "Lebanon", "Georgia", "Hungary", "Colombia", "Thailand", "Philippines", "Argentina", "Germany", "Russia", "Malaysia", "Morocco", "Romania", "Chile", "Czechia", "South Africa", "Bulgaria", "Austria", "Palestine", "Egypt", "Ethiopia", "Canada", "Tunisia", "Iran", "Ukraine", "Lithuania", "Syria", "Algeria", "Netherlands", "Saudi Arabia", "Ecuador", "England", "Sweden", "Bosnia and Herzegovina", "North Macedonia", "Venezuela", "Denmark", "Trinidad and Tobago", "Nicaragua", "Puerto Rico", "Libya", "Bangladesh", "Australia", "Sri Lanka", "Finland", "Jordan", "Bolivia", "Norway", "Azerbaijan", "Belgium", "Cuba", "Switzerland", "Iraq", "Uruguay", "Pakistan", "Afghanistan", "Slovakia", "Eritrea", "Albania", "Scotland", "Belarus", "Ireland", "Haiti", "Dominican Republic", "Paraguay", "Slovenia", "Costa Rica", "The Bahamas", "Armenia", "Latvia", "Estonia", "Singapore", "Montenegro", "Guatemala", "Israel", "Malta", "Nigeria", "Laos", "Kenya", "Kazakhstan", "Qatar", "Cyprus"
            ],

            meat: [
                "üêî ‡∏≠‡∏Å‡πÑ‡∏Å‡πà", "üçó ‡∏ô‡πà‡∏≠‡∏á‡πÑ‡∏Å‡πà", "üêì ‡∏õ‡∏µ‡∏Å‡πÑ‡∏Å‡πà", "ü¶∂ ‡∏ï‡∏µ‡∏ô‡πÑ‡∏Å‡πà", "ü•© ‡∏™‡∏±‡∏ô‡πÉ‡∏ô‡πÑ‡∏Å‡πà", "üç¢ ‡∏ï‡∏±‡∏ö‡πÑ‡∏Å‡πà",
                "üê∑ ‡∏™‡∏±‡∏ô‡πÉ‡∏ô‡∏´‡∏°‡∏π", "üêñ ‡∏™‡∏±‡∏ô‡∏ô‡∏≠‡∏Å‡∏´‡∏°‡∏π", "ü•ì ‡∏´‡∏°‡∏π‡∏Å‡∏£‡∏≠‡∏ö", "ü•© ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏∞‡πÇ‡∏û‡∏Å‡∏´‡∏°‡∏π", "ü•£ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π‡∏ö‡∏î", "ü•£ ‡∏´‡∏°‡∏π‡∏´‡∏°‡∏±‡∏Å", "üç¢ ‡∏ï‡∏±‡∏ö‡∏´‡∏°‡∏π", "ü¶¥ ‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏´‡∏°‡∏π",
                "ü¶ê ‡∏Å‡∏∏‡πâ‡∏á‡∏Ç‡∏≤‡∏ß", "ü¶ê ‡∏Å‡∏∏‡πâ‡∏á‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥", "üç§ ‡∏Å‡∏∏‡πâ‡∏á‡∏•‡∏≤‡∏¢‡πÄ‡∏™‡∏∑‡∏≠", "üåä ‡∏Å‡∏∏‡πâ‡∏á‡∏ó‡∏∞‡πÄ‡∏•", "üá¶üá∫ ‡∏Å‡∏∏‡πâ‡∏á‡∏≠‡∏≠‡∏™‡πÄ‡∏ï‡∏£‡πÄ‡∏•‡∏µ‡∏¢", "ü¶û ‡∏Å‡∏∏‡πâ‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£", "üî¥ ‡∏Å‡∏∏‡πâ‡∏á‡πÅ‡∏î‡∏á", "üíé ‡∏Å‡∏∏‡πâ‡∏á‡πÅ‡∏Å‡πâ‡∏ß", "ü¶ê ‡∏Å‡∏∏‡πâ‡∏á‡∏Å‡πâ‡∏≤‡∏°‡∏Å‡∏£‡∏≤‡∏°",
                "ü¶Ü ‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏î", "üçó ‡∏ô‡πà‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏î", "ü•© ‡∏™‡∏∞‡πÇ‡∏û‡∏Å‡πÄ‡∏õ‡πá‡∏î", "üç¢ ‡∏ï‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏î",
                "üêö ‡∏´‡∏≠‡∏¢‡πÄ‡∏õ‡πã‡∏≤‡∏Æ‡∏∑‡πâ‡∏≠", "ü¶™ ‡∏´‡∏≠‡∏¢‡∏ô‡∏≤‡∏á‡∏£‡∏°", "üêö ‡∏´‡∏≠‡∏¢‡πÅ‡∏°‡∏•‡∏á‡∏†‡∏π‡πà", "ü•ò ‡∏´‡∏≠‡∏¢‡∏Å‡∏≤‡∏ö", "üêö ‡∏´‡∏≠‡∏¢‡∏•‡∏≤‡∏¢", "ü©∏ ‡∏´‡∏≠‡∏¢‡πÅ‡∏Ñ‡∏£‡∏á", "ü•ò ‡∏´‡∏≠‡∏¢‡∏õ‡∏µ‡∏Å‡∏ô‡∏Å", "üáØüáµ ‡∏´‡∏≠‡∏¢‡πÅ‡∏°‡∏•‡∏á‡∏†‡∏π‡πà",
                "ü¶Ä ‡∏õ‡∏π‡∏ó‡∏∞‡πÄ‡∏•", "ü¶Ä ‡∏õ‡∏π‡∏≠‡∏•‡∏≤‡∏™‡∏Å‡πâ‡∏≤", "ü¶Ä ‡∏õ‡∏π‡∏°‡πâ‡∏≤","ü¶Ä ‡∏õ‡∏π",
                "ü¶ë ‡∏´‡∏°‡∏∂‡∏Å‡∏Å‡∏•‡πâ‡∏ß‡∏¢", "üêô ‡∏õ‡∏•‡∏≤‡∏´‡∏°‡∏∂‡∏Å", "üê¢ ‡∏´‡∏°‡∏∂‡∏Å‡∏Å‡∏£‡∏∞‡∏î‡∏≠‡∏á", "ü¶ë ‡∏´‡∏°‡∏∂‡∏Å‡∏™‡∏≤‡∏¢","ü¶ë ‡∏´‡∏°‡∏∂‡∏Å‡∏´‡∏≠‡∏°",
                "üêü ‡∏õ‡∏•‡∏≤‡∏ó‡∏π", "üáØüáµ ‡∏õ‡∏•‡∏≤‡∏ã‡∏≤‡∏ö‡∏∞", "üêü ‡∏õ‡∏•‡∏≤‡∏Å‡∏∞‡∏û‡∏á‡∏Ç‡∏≤‡∏ß", "üêü ‡∏õ‡∏•‡∏≤‡∏ô‡∏¥‡∏•", "üêü ‡∏õ‡∏•‡∏≤‡∏™‡∏ß‡∏≤‡∏¢", "üêü ‡∏õ‡∏•‡∏≤‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ","üêü ‡∏õ‡∏•‡∏≤‡∏Å‡∏£‡∏≤‡∏¢", "üç£ ‡∏õ‡∏•‡∏≤‡πÅ‡∏ã‡∏•‡∏°‡∏≠‡∏ô", "üêü ‡∏õ‡∏•‡∏≤‡∏ó‡∏π‡∏ô‡πà‡∏≤","üêü ‡∏õ‡∏•‡∏≤‡∏ó‡∏±‡∏ö‡∏ó‡∏¥‡∏°"
            
            ],

            style: [
                "üçú ‡∏™‡∏ï‡∏£‡∏µ‡∏ó‡∏ü‡∏π‡πâ‡∏î", "ü•ò ‡∏ü‡∏¥‡∏ß‡∏ä‡∏±‡πà‡∏ô", "üç¢ ‡∏õ‡∏¥‡πâ‡∏á‡∏¢‡πà‡∏≤‡∏á", "üçõ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß", "üçµ ‡∏ã‡∏∏‡∏õ", "üç≥ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤", "üçΩÔ∏è ‡πÑ‡∏ü‡∏ô‡πå‡πÑ‡∏î‡∏ô‡∏¥‡πà‡∏á", "üçü ‡∏ü‡∏≤‡∏™‡∏ï‡πå‡∏ü‡∏π‡πâ‡∏î", "üçÇ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á", "üç± ‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡πà‡∏ï‡πå", "üç∏ ‡∏Ñ‡πá‡∏≠‡∏Å‡πÄ‡∏ó‡∏•"
            ],

            plating: [
                "üé® Minimalist Plating", "üñºÔ∏è Artistic Plating", "üè∫ Traditional Plating", "ü•û Stacking", "üìê Asymmetrical Plating", "üå±  Nature-Inspired Plating", "üå∏ Edible Flowers", "üåø Circular Plating", "ü•î Crisps & Chips", "üé® Sauce Splatters", "„Ä∞Ô∏è Sauce Swirls", "‚ö´ Sauce Dots", "üóº Towering (‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢)", "üß© Deconstructed (‡πÅ‡∏¢‡∏Å‡∏™‡πà‡∏ß‡∏ô)", "üóø Food Sculpture", "üéÆ Play with textures", "‚¨ÜÔ∏è Vertical Plating", "üñå Monochromatic", "üéÆ Interactive Plating", "üåà Plating by Color", "üëº Smaller portion sizes/Odd Quantities", "üè° Rustic Plating", "üå°Ô∏è Color & Contrast"
            ]
        };

        // UI Configuration
        const config = [
            { id: "country1", label: "üó∫Ô∏è ‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô (Base)", data: data.country1 },
            { id: "country2", label: "üåé ‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏ó‡∏µ‡πà 2 (Fusion)", data: data.country2 },
            { id: "meat", label: "ü•© ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏•‡∏±‡∏Å (Meat)", data: data.meat },
            { id: "style", label: "üç≥ ‡∏™‡πÑ‡∏ï‡∏•‡πå (Style)", data: data.style },
            { id: "plating", label: "üé® ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏à‡∏≤‡∏ô (Plating)", data: data.plating }
        ];

        let state = {};

        // Initialize
        function init() {
            const container = document.getElementById('gridContainer');
            config.forEach(cfg => {
                state[cfg.id] = { locked: false, value: "..." };

                const card = document.createElement('div');
                card.className = "slot-card";
                card.id = `card-${cfg.id}`;
                card.innerHTML = `
                    <div class="header-row">
                        <span class="label">${cfg.label}</span>
                        <button class="lock-btn" id="lock-${cfg.id}" onclick="toggleLock('${cfg.id}')" title="‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡πá‡∏≠‡∏Å/‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å">üîì</button>
                    </div>
                    <select id="select-${cfg.id}" onchange="handleSelect('${cfg.id}')">
                        <option value="random">üé≤ ‡∏™‡∏∏‡πà‡∏° (Random)</option>
                        ${cfg.data.map(item => `<option value="${item}">${item}</option>`).join('')}
                    </select>
                    <div class="display-value" id="disp-${cfg.id}">...</div>
                `;
                container.appendChild(card);
            });
        }

        // Toggle Lock
        function toggleLock(id) {
            state[id].locked = !state[id].locked;
            updateLockUI(id);
        }

        function updateLockUI(id) {
            const btn = document.getElementById(`lock-${id}`);
            const card = document.getElementById(`card-${id}`);
            const select = document.getElementById(`select-${id}`);

            if (state[id].locked) {
                btn.innerText = "üîí";
                card.classList.add('locked');
                // ‡∏ñ‡πâ‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏Ç‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô "..." ‡∏´‡∏£‡∏∑‡∏≠ random ‡πÉ‡∏´‡πâ‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏Å‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°
                if (select.value === 'random' && state[id].value === '...') {
                     const pool = config.find(c => c.id === id).data;
                     const randomVal = pool[Math.floor(Math.random() * pool.length)];
                     state[id].value = randomVal;
                     document.getElementById(`disp-${id}`).innerText = randomVal;
                     select.value = randomVal;
                }
            } else {
                btn.innerText = "üîì";
                card.classList.remove('locked');
            }
        }

        // Handle Select Dropdown
        function handleSelect(id) {
            const select = document.getElementById(`select-${id}`);
            const display = document.getElementById(`disp-${id}`);
            const val = select.value;

            if (val !== "random") {
                state[id].value = val;
                display.innerText = val;
                if (!state[id].locked) {
                    state[id].locked = true; // Auto lock when manually selected
                    updateLockUI(id);
                }
            } else {
                if (state[id].locked) {
                    state[id].locked = false; // Auto unlock if set to random
                    updateLockUI(id);
                }
                display.innerText = "...";
                state[id].value = "...";
            }
        }

        // Unlock All Button
        function unlockAll() {
            config.forEach(cfg => {
                if(state[cfg.id].locked) {
                    state[cfg.id].locked = false;
                    updateLockUI(cfg.id);
                }
                document.getElementById(`select-${cfg.id}`).value = "random";
            });
        }

        // Spin Logic
        function spinAll() {
            const btn = document.querySelector('.spin-btn');
            btn.disabled = true;
            btn.innerHTML = "‚è≥ ‡∏Å‡∏∏‡πä‡∏Å‡∏Å‡∏¥‡πä‡∏Å ‡∏Å‡∏∏‡πä‡∏Å‡∏Å‡∏¥‡πä‡∏Å...";
            
            // ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏° Copy ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
            document.getElementById('btnCopy').style.display = 'none';
            document.getElementById('copyArea').style.display = 'none';
            document.getElementById('finalSentence').style.display = 'block';

            let activeSlots = config.filter(cfg => !state[cfg.id].locked);

            if (activeSlots.length === 0) {
                // ‡∏ñ‡πâ‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏´‡∏°‡∏î‡∏ó‡∏∏‡∏Å‡∏≠‡∏±‡∏ô ‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏•‡∏¢
                finalizeSpin();
                return;
            }

            // Loop ‡∏´‡∏°‡∏∏‡∏ô‡∏ó‡∏µ‡∏•‡∏∞‡∏≠‡∏±‡∏ô
            config.forEach((cfg, index) => {
                if (state[cfg.id].locked) return;

                const display = document.getElementById(`disp-${cfg.id}`);
                const pool = cfg.data;
                let counter = 0;
                let speed = 50;
                // ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡πÉ‡∏´‡πâ‡πÑ‡∏•‡πà‡∏Å‡∏±‡∏ô‡πÑ‡∏õ (Cascade effect)
                let stopThreshold = 10 + (index * 4);

                const interval = setInterval(() => {
                    display.innerText = pool[Math.floor(Math.random() * pool.length)];
                    counter++;

                    if (counter > stopThreshold) {
                        clearInterval(interval);
                        const finalVal = pool[Math.floor(Math.random() * pool.length)];
                        display.innerText = finalVal;
                        state[cfg.id].value = finalVal;
                    }
                }, speed);
            });

            // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏∏‡πà‡∏°
            const maxDelay = 50 * (10 + (config.length * 4)) + 300;
            setTimeout(() => finalizeSpin(), maxDelay);
        }

        function finalizeSpin() {
            const btn = document.querySelector('.spin-btn');
            btn.disabled = false;
            btn.innerHTML = "üé≤ ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏ü‡∏¥‡∏ß‡∏ä‡∏±‡πà‡∏ô (Spin)";
            generateSentence();
        }

        function generateSentence() {
            const v = {};
            config.forEach(cfg => v[cfg.id] = state[cfg.id].value === "..." ? "(‡∏™‡∏∏‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô)" : state[cfg.id].value);

            // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• HTML ‡∏™‡∏ß‡∏¢‡πÜ
            const sentenceHtml = `
                üç≤ <b>‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ü‡∏¥‡∏ß‡∏ä‡∏±‡πà‡∏ô‡πÇ‡∏•‡∏Å:</b> ‡∏ô‡∏≥‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏Å <span class="highlight">"${v.country1}"</span> ‡∏°‡∏≤‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡∏Å‡∏±‡∏ö <span class="highlight">"${v.country2}"</span><br>
                ü•© ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠ <span class="highlight">"${v.meat}"</span><br>
                üç≥ ‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö <span class="highlight">"${v.style}"</span><br>
                üé® ‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏à‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö <span class="highlight">"${v.plating}"</span>`;

            document.getElementById('finalSentence').innerHTML = sentenceHtml;

            // ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Copy
            const textToCopy = `üç≥ ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÄ‡∏°‡∏ô‡∏π‡∏ü‡∏¥‡∏ß‡∏ä‡∏±‡πà‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‚ú®\n\n` +
                `üó∫Ô∏è ${v.country1} + ${v.country2}\n` +
                `ü•© ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö: ${v.meat}\n` +
                `ü•ò ‡∏™‡πÑ‡∏ï‡∏•‡πå: ${v.style}\n` +
                `üé® ‡∏à‡∏±‡∏î‡∏à‡∏≤‡∏ô: ${v.plating}\n\n` +
                `#GlobalFusionKitchen #CookingChallenge`;

            const copyArea = document.getElementById('copyArea');
            copyArea.value = textToCopy;
            copyArea.style.display = 'block';
            document.getElementById('btnCopy').style.display = 'flex';
        }

        function copyText() {
            const copyArea = document.getElementById("copyArea");
            copyArea.select();
            copyArea.setSelectionRange(0, 99999); // For mobile
            
            navigator.clipboard.writeText(copyArea.value).then(() => {
                showToast();
            });
        }

        function showToast() {
            const toast = document.getElementById("toast");
            toast.className = "show";
            setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
        }

        // Run
        init();

    </script>
</body>
</html>
